<!--
This sample web application provides a simple Click-Through Splash page for Cisco Meraki networks.
Usage:
* Configure your Cisco Meraki wireless network with a Click-through splash page.
* Configure the "Custom URL" to point to your webserver that is hosting this HTML file.
* Update the "Walled Garden" with the IP or Domain Name for your webserver and any supporting resources
* Add any additional logic to forward the form data to your preferred service. By default, a simple alert
displays the results of one form entry and then prints the Meraki provided parameters in the the footer. 

Sample URL received from Meraki to this page.
http://localhost:5000/?base_grant_url=https%3A%2F%2Fn143.network-auth.com%2Fsplash%2Fgrant&user_continue_url=http%3A%2F%2Fspeedof.me%2F&node_id=149624922840090&node_mac=88:15:44:60:1c:1a&gateway_id=149624922840090&client_ip=10.255.60.208&client_mac=f4:5c:89:9b:17:67


This is example was written by:
Cory Guynn
www.InternetOfLEGO.com
2016

LICENSE: MIT
"Have Fun!, use and abuse"
-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<html lang="es">
    <head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="./css/style.css">
    </head>
    <div class="container">  
      
      <form id="loginForm" action="POST">
        <center><a href="http://developers.meraki.com"><img src="./img/logo.png" width="50%"/></a></center>
        <br>
        <fieldset>
          <input id="name" placeholder="Nombre" type="text" tabindex="1" required autofocus>
        </fieldset>
        <fieldset>
          <input id="email" placeholder="Correo Electrónico" type="email" tabindex="2" required>
        </fieldset>
        <fieldset>
          <input id="company" placeholder="Número Teléfonico" type="text" tabindex="3">
        </fieldset>
		 <input type="checkbox" name="terminos" value=""> Estoy de acuerdo con los terminos y condiciones del servicio<br>
        <fieldset>
          <button type="submit">Acceder a Internet</button>
        </fieldset>
		
        <!--<p class="copyright">Sample by <a href="http://www.InternetOfLEGO.com" target="_blank" title="Internet of LEGO">Internet of LEGO</a></p>-->
      </form>
    </div>
    <hr>
    <h4>Debugging Stats</h4>
    <p><label>Base Grant URL: </label><label id="baseGrantURL"></label></p>
    <p><label>User Continue URL: </label><label id="userContinueURL"></label></p>
    <p><label>Client IP: </label><label id="clientIP"></label></p>
    <p><label>Client MAC: </label><label id="clientMAC"></label></p>
    <p><label>Access Point MAC: </label><label id="nodeMAC"></label></p>
     <script>
    $('#loginForm').one('submit',function(){
        var inputq1 = encodeURIComponent($('#name').val());
        var inputq2 = encodeURIComponent($('#email').val());
		var inputq3 = encodeURIComponent($('#company').val());
        var q1ID = "entry.1415186773";
        var q2ID = "entry.294444343";
		var q3ID = "entry.1432931280";
        var baseURL = 'https://docs.google.com/forms/d/e/1FAIpQLSf8G2v3DM1Dgm4PEU_L1-O2CCPEcpf0cEp2FhmM9Ynr2PNWUA/formResponse?';
        var submitRef = '&submit=Submit';
        var submitURL = (baseURL + q1ID + "=" + inputq1 + "&" + q2ID + "=" + inputq2 + "&" + q3ID + "=" + inputq3 + submitRef);
        console.log(submitURL);
        $(this)[0].action=submitURL;
        <!--$('#input-feedback').text('Datos Enviados!');-->
    });
</script>   
    <script src="./js/meraki.js"></script>
</html>
